<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Anshu Didi ‚ù§Ô∏è</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Lora:ital,wght@0,400;0,600;1,400&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    
    <!-- Firebase SDKs for Realtime Database -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
        // Changed to Realtime Database SDKs
        import { getDatabase, ref, push, set, serverTimestamp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js";

        // Your New Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyAMebWH9Li2jJ8dCNpgynCjaB-LPpkCO-Y",
            authDomain: "anshudidi.firebaseapp.com",
            databaseURL: "https://anshudidi-default-rtdb.firebaseio.com",
            projectId: "anshudidi",
            storageBucket: "anshudidi.firebasestorage.app",
            messagingSenderId: "83972158901",
            appId: "1:83972158901:web:8b3dac8f186ff1d3ffd5fc"
        };

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        window.submitToFirebase = async function() {
            const btn = document.getElementById('finalSubmitBtn');
            const answers = {};
            
            // Collect Form Data
            const formData = new FormData(document.getElementById('quizForm'));
            for (let [key, value] of formData.entries()) {
                answers[key] = value;
            }

            // Get the specific final question from Page 4
            const finalQ = document.getElementById('finalQuestion').value;
            answers['like_hate_brother'] = finalQ;
            answers['timestamp'] = serverTimestamp();

            try {
                btn.innerText = "Sending Love...";
                
                // Realtime Database Logic: Create a reference and Push a new entry
                const answersRef = ref(db, 'anshu_didi_answers');
                const newAnswerRef = push(answersRef);
                await set(newAnswerRef, answers);

                btn.innerText = "Sent! ‚ù§Ô∏è";
                alert("Your answers have reached Akrit!");
                
                // Reveal the heart section
                document.getElementById('final-message-container').scrollIntoView({ behavior: 'smooth' });
                document.getElementById('page4-part2').style.display = 'block';
                
            } catch (e) {
                console.error("Error adding document: ", e);
                btn.innerText = "Error (Try Again)";
                alert("Error sending answers. Please check your internet or Firebase Rules.");
            }
        }
    </script>

    <style>
        :root {
            --primary: #c21e56; /* Deep Reddish Pink */
            --gold: #d4af37;
            --cream: #fff5f5;
            --text: #4a2c2c;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #fff0f5 0%, #ffe4e1 100%);
            color: var(--text);
            overflow-x: hidden;
        }

        h1, h2, h3 {
            font-family: 'Dancing Script', cursive;
            color: var(--primary);
        }

        p {
            font-family: 'Lora', serif;
            line-height: 1.6;
        }

        /* --- Animations --- */
        .fade-in-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: all 1s ease-out;
        }
        .fade-in-scroll.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* --- Page Sections --- */
        section {
            min-height: 100vh;
            padding: 20px;
            display: none; /* Hidden by default */
            flex-direction: column;
            align-items: center;
            position: relative;
        }

        section.active {
            display: flex;
            animation: fadeInPage 1s ease;
        }

        @keyframes fadeInPage {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* --- Page 1: Home --- */
        #page1 {
            justify-content: center;
            background-image: url('https://www.transparenttextures.com/patterns/hearts.png');
        }

        .envelope-btn {
            background: var(--primary);
            color: white;
            padding: 20px 40px;
            font-size: 1.5rem;
            border: 2px solid var(--gold);
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 10px 20px rgba(194, 30, 86, 0.3);
            transition: transform 0.3s;
            font-family: 'Dancing Script', cursive;
        }

        .envelope-btn:hover {
            transform: scale(1.1);
            background: #a01342;
        }

        /* --- Page 2: Memories & Film Strip --- */
        .film-strip {
            display: flex;
            background: #000;
            padding: 10px 0;
            overflow-x: auto;
            width: 100%;
            margin-bottom: 30px;
            border-top: 5px dashed white;
            border-bottom: 5px dashed white;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .film-frame {
            min-width: 200px;
            height: 250px;
            margin: 0 15px;
            background: white;
            padding: 10px;
            box-sizing: border-box;
            position: relative;
        }

        .film-frame img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border: 1px solid #ddd;
        }

        .praise-box {
            background: white;
            border: 2px solid var(--gold);
            padding: 20px;
            margin: 20px 0;
            max-width: 600px;
            text-align: center;
            border-radius: 15px;
            position: relative;
        }

        .praise-box::before {
            content: '‚ù§Ô∏è';
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 20px;
            background: var(--cream);
            padding: 0 10px;
        }

        .polaroid {
            background: white;
            padding: 15px 15px 40px 15px;
            box-shadow: 5px 5px 15px rgba(0,0,0,0.2);
            transform: rotate(-3deg);
            max-width: 250px;
            margin: 20px;
            display: inline-block;
        }
        .polaroid:nth-child(even) { transform: rotate(3deg); }
        .polaroid img { width: 100%; }

        /* --- Page 3: Quiz --- */
        .quiz-container {
            max-width: 800px;
            width: 100%;
            background: rgba(255, 255, 255, 0.8);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .question-box {
            background: #fff;
            border-left: 5px solid var(--primary);
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        input[type="text"], textarea {
            width: 100%;
            padding: 10px;
            margin-top: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-family: 'Poppins', sans-serif;
            background: #fffafa;
        }

        /* Custom Slider */
        input[type=range] {
            width: 100%;
            accent-color: var(--primary);
        }

        .radio-group {
            display: flex;
            gap: 20px;
            margin-top: 10px;
        }

        /* --- Page 4: Heart & Message --- */
        #heart-lock {
            cursor: pointer;
            transition: transform 1s;
        }
        
        #heart-lock:hover {
            transform: scale(1.1);
        }

        .heart-shape {
            position: relative;
            width: 100px;
            height: 90px;
            background-color: var(--primary);
            display: inline-block;
            margin-top: 50px;
        }
        .heart-shape:before, .heart-shape:after {
            position: absolute;
            content: "";
            left: 50px;
            top: 0;
            width: 50px;
            height: 80px;
            background-color: var(--primary);
            border-radius: 50px 50px 0 0;
            transform: rotate(-45deg);
            transform-origin: 0 100%;
        }
        .heart-shape:after {
            left: 0;
            transform: rotate(45deg);
            transform-origin: 100% 100%;
        }
        
        .ribbon {
            position: absolute;
            top: 20px;
            left: -10px;
            width: 120px;
            height: 20px;
            background: var(--gold);
            z-index: 10;
        }

        .message-drop {
            display: none;
            margin-top: 20px;
        }

        .love-note {
            background: linear-gradient(to right, #fff, #fff0f5);
            border: 1px solid var(--gold);
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            opacity: 0; 
            transform: translateY(-20px);
            animation: dropIn 0.8s forwards;
        }

        @keyframes dropIn {
            to { opacity: 1; transform: translateY(0); }
        }

        .big-letter {
            background: #fff;
            padding: 40px;
            border-radius: 10px;
            border: 2px solid var(--primary);
            margin-top: 30px;
            position: relative;
            max-width: 800px;
            box-shadow: 0 0 20px rgba(194, 30, 86, 0.2);
        }

        /* Buttons */
        .btn-nav {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 30px;
            font-size: 1.1rem;
            cursor: pointer;
            margin-top: 20px;
            font-family: 'Poppins', sans-serif;
            transition: background 0.3s;
        }
        .btn-nav:hover { background: #a01342; }

    </style>
</head>
<body>

    <!-- PAGE 1: LANDING -->
    <section id="page1" class="active">
        <h1 style="font-size: 3rem; text-align: center;">For My Dearest Anshu Didi</h1>
        <p style="font-size: 1.2rem; margin-bottom: 30px;">A small gift from your younger brother, Akrit.</p>
        <button class="envelope-btn" onclick="openPasswordModal()">Open Letter üíå</button>
    </section>

    <!-- PAGE 2: MEMORIES & PRAISE -->
    <section id="page2">
        <h2>Unwinding Memories...</h2>
        
        <!-- Film Strip Animation -->
        <div class="film-strip">
            <!-- Updated images path as provided -->
            <div class="film-frame"><img src="images/img1.jpg" alt="Memory"></div>
            <div class="film-frame"><img src="images/img2.jpg" alt="Memory"></div>
            <div class="film-frame"><img src="images/img3.jpg" alt="Memory"></div>
            <div class="film-frame"><img src="images/img4.jpg" alt="Memory"></div>
            <div class="film-frame"><img src="images/img5.jpg" alt="Memory"></div>
            <div class="film-frame"><img src="images/img9.jpg" alt="Memory"></div>
            <div class="film-frame"><img src="images/img11.jpg" alt="Memory"></div>
            <div class="film-frame"><img src="images/img12.jpg" alt="Memory"></div>
            <div class="film-frame"><img src="images/img17.jpg" alt="Memory"></div>        
        </div>

        <div class="praise-box fade-in-scroll">
            <h3>The Golden Girl</h3>
            <p>From winning Gold Medals in B.Sc Maths to teaching students with passion. While I struggled with numbers, but mastered speeding(don't tell anyone).<br><strong> You are beauty with brains in the truest sense.</strong></p>
        </div>

        <div style="display: flex; flex-wrap: wrap; justify-content: center;">
            <div class="polaroid fade-in-scroll">
                <img src="images/img6.jpg" alt="Didi">
                <p style="text-align: center; font-size: 0.8rem;">Lecturer Mode</p>
            </div>
            <div class="polaroid fade-in-scroll">
                <img src="images/img7.jpg" alt="Didi">
                <p style="text-align: center; font-size: 0.8rem;">Pure Beauty</p>
            </div>
            <div class="polaroid fade-in-scroll">
                <img src="images/img8.jpg" alt="Didi">
                <p style="text-align: center; font-size: 0.8rem;">True Queen</p>
            </div>
        </div>

        <div class="praise-box fade-in-scroll">
            <h3>Timeless Beauty</h3>
            <p>You are <strong>extremely beautiful</strong>, more than any actress. I know you are working out now, but I loved that cute, thick version of you with those round specs! You have a kind and loving nature that makes you shine even brighter.</p>
        </div>
         <div style="display: flex; flex-wrap: wrap; justify-content: center;">        
        <div class="polaroid fade-in-scroll">
                <img src="images/img13.jpg" alt="Didi">
                <p style="text-align: center; font-size: 0.8rem;">Your Styleü§åüèª</p>
            </div>
        <div class="polaroid fade-in-scroll">
                <img src="images/img16.jpg" alt="Didi">
                <p style="text-align: center; font-size: 0.8rem;">Your Auraüî•</p>
            </div>
        </div>
        <div class="praise-box fade-in-scroll">
            <h3>My Sister, My Bestie</h3>
            <p>Even though we are cousins, you are no less than my <strong>"Sagi Didi"</strong>. You've tied me Rakhi, given me chocolates, and loved me like your own since childhood. I will miss you so much when you go to your <strong>Sasural</strong>.</p>
        </div>
        <div style="display: flex; flex-wrap: wrap; justify-content: center;">        
        <div class="polaroid fade-in-scroll">
                <img src="images/img10.jpg" alt="Didi">
                <p style="text-align: center; font-size: 0.8rem;">Maths Maharaniüë∏üèª</p>
            </div>
        <div class="polaroid fade-in-scroll">
                <img src="images/img15.jpg" alt="Didi">
                <p style="text-align: center; font-size: 0.8rem;">This Looküòç</p>
            </div>
         <div class="polaroid fade-in-scroll">
                <img src="images/img18.jpg" alt="Didi">
                <p style="text-align: center; font-size: 0.8rem;">Your Beautyüòçüî•</p>
            </div>
        </div>
        <button class="btn-nav" onclick="goToPage(3)">Akrit had some questions to ask... Clear them before you go!</button>
    </section>

    <!-- PAGE 3: THE QUIZ -->
    <section id="page3">
        <h2>Fun & Truths</h2>
        <p style="text-align: center; max-width: 600px;">
            Didi, these are some fun, non-serious questions. If something feels too personal, you can skip, but answer all of them honestly! <br>
            No "use bure na lge" or "baat leak hogi" fears. This is just between us.
        </p>

        <form id="quizForm" class="quiz-container">
            <!-- Game 1: Love Meter -->
            <div class="question-box">
                <label>How much do you love your brother Akrit? (Drag the slider)</label>
                <div style="display: flex; align-items: center; gap: 10px; margin-top: 10px;">
                    <span>üòê</span>
                    <input type="range" name="love_level" min="0" max="100" value="50">
                    <span style="font-size: 1.5rem;">üòò</span>
                </div>
            </div>

            <!-- Game 2: Text Questions -->
            <div class="question-box"><label>1. Your fav chocolate?</label><input type="text" name="q1"></div>
            <div class="question-box"><label>2. Would you like to go on a drive with me?</label><input type="text" name="q2"></div>
            <div class="question-box"><label>3. Your fav memory of college days?</label><textarea name="q3"></textarea></div>
            <div class="question-box"><label>4. If someone asked why I matter to you, what will you say?</label><textarea name="q4"></textarea></div>
            <div class="question-box"><label>5. Why did you agree to marriage? Under pressure?</label><textarea name="q5"></textarea></div>
            <div class="question-box"><label>6. What's your happiest memory of us?</label><textarea name="q6"></textarea></div>
            <div class="question-box"><label>7. One thing that disturbed you most but never told anyone? Reveal it here, honestly.</label><textarea name="q7"></textarea></div>
            <div class="question-box"><label>8. Small thing I do that makes you happier?</label><input type="text" name="q8"></div>
            <div class="question-box"><label>9. How much do you trust me/comfortable with me?</label><input type="text" name="q9"></div>
            <div class="question-box"><label>10. Which part of marriage scares you most? üòÅ</label><input type="text" name="q10"></div>
            <div class="question-box"><label>11. Ever had a crush? Who/When? Poori kahani btao...</label><textarea name="q11"></textarea></div>

            <!-- Game 3: Yes/No -->
            <h3 style="text-align: center; margin-top: 30px; color: var(--gold);">Rapid Fire: Yes or No</h3>
            
            <div class="question-box">
                <label>1. Ever used abusive language with friends?</label>
                <div class="radio-group"><label><input type="radio" name="yn1" value="Yes"> Yes</label><label><input type="radio" name="yn1" value="No"> No</label></div>
            </div>
            <div class="question-box">
                <label>2. Ever drinked?</label>
                <div class="radio-group"><label><input type="radio" name="yn2" value="Yes"> Yes</label><label><input type="radio" name="yn2" value="No"> No</label></div>
            </div>
            <div class="question-box">
                <label>3. Voluntarily or accidentally watched adult content?</label>
                <div class="radio-group"><label><input type="radio" name="yn3" value="Yes"> Yes</label><label><input type="radio" name="yn3" value="No"> No</label></div>
            </div>
            <div class="question-box">
                <label>4. Would you prefer dating over arranged marriage?</label>
                <div class="radio-group"><label><input type="radio" name="yn4" value="Yes"> Yes</label><label><input type="radio" name="yn4" value="No"> No</label></div>
            </div>
            <div class="question-box">
                <label>5. Will you prefer me over your husband for a long road trip?üòÖ</label>
                <div class="radio-group"><label><input type="radio" name="yn5" value="Yes"> Yes</label><label><input type="radio" name="yn5" value="No"> No</label></div>
            </div>
            <div class="question-box">
                <label>6. Ever suffered average girl-life traumas(staring/comments)?</label>
                <div class="radio-group"><label><input type="radio" name="yn6" value="Yes"> Yes</label><label><input type="radio" name="yn6" value="No"> No</label></div>
            </div>
            <div class="question-box">
                <label>7. Kya aap ladko se jyada double meaning baatein kr leti ho?üòù</label>
                <div class="radio-group"><label><input type="radio" name="yn7" value="Yes"> Yes</label><label><input type="radio" name="yn7" value="No"> No</label></div>
            </div>
            <div class="question-box">
                <label>8. Do you accept you are beautiful just cuz I am your brother?</label>
                <div class="radio-group"><label><input type="radio" name="yn8" value="Yes"> Yes</label><label><input type="radio" name="yn8" value="No"> No</label></div>
            </div>

        </form>
        <button class="btn-nav" onclick="goToPage(4)">Enter into Akrit's message...</button>
    </section>

    <!-- PAGE 4: THE LETTER -->
    <section id="page4">
        <h2>One Last Thing...</h2>
        <div class="question-box" style="width: 100%; max-width: 600px;">
            <label>List one thing you like and hate most in your younger brother?</label>
            <input type="text" id="finalQuestion">
            <button class="btn-nav" id="finalSubmitBtn" onclick="submitToFirebase()" style="width: 100%; margin-top: 10px; background: var(--gold);">Submit Answers First</button>
        </div>

        <div id="page4-part2" style="display:none; width: 100%; text-align: center;">
            <p style="margin-top: 30px;">Tap the heart to unwrap my love...</p>
            
            <div id="heart-lock" onclick="openHeart()">
                <div class="heart-shape">
                    <div class="ribbon"></div>
                </div>
            </div>

            <div id="final-message-container" class="message-drop">
                <!-- Floating Love Notes -->
                <div class="love-note" style="animation-delay: 0.2s;">You are my guiding starüåü</div>
                <div class="love-note" style="animation-delay: 0.4s;">Thanks for always helping with Maths!‚ûó</div>
                <div class="love-note" style="animation-delay: 0.6s;">I love you more than words can say‚ù§Ô∏è</div>
                <div class="love-note" style="animation-delay: 0.8s;">I'll always be your annoying little brotherüë¶</div>
                <div class="love-note" style="animation-delay: 1.0s;">You are the most beautiful bride-to-be, trulyüë∞</div>
                <div class="love-note" style="animation-delay: 1.2s;">I will miss our laughsüòÇ</div>
                <div class="love-note" style="animation-delay: 1.4s;">Sage Bhai-Behen forever in heartüë´</div>

                <!-- Main Letter -->
                <div class="big-letter fade-in-scroll">
                    <p>
                        You are truly special and when I say special, I mean it in the deepest, most heartfelt way. With you, I find a comfort I've never known. Talking to you feels easy, sharing my thoughts feels safe. You listen without judgment, without limits. Around you, I don't fear being misunderstood; I can simply be myself. It took time for me to realize that you're not like the others. You care in ways words can't capture. You love me for who I am‚Äîno filters, no expectations. You have a heart so rare, so kind, it still amazes me. You're the one who stays up just to hear my silly talks, the one who sees through my smile, You notice the pain even when I hide it well.
                    </p>
                    <br>
                    <p>
                        I can never thank you enough for walking into my life and lighting it up with your love and patience. You've always said "I'll be there for you," and you've kept that promise every single time. You corrected me when I was wrong, stood by me when I was weak, and reminded me that I am loved and important. In a world full of people, you are my one person‚Äîonly one I truly need. Stay with me forever, because life without you wouldn't be the same again. I love you endlessly, till the endd...
                    </p>
                </div>

                <div class="love-note" style="background: var(--gold); color: white; margin-top: 30px;">
                    No matter how far you go, you'll always be close to my <strong>heart</strong>. I wish you good luck and happiness for future, khoob <strong>tarakki</strong> kro, khoob aage bdho, khoob <strong>bachhe</strong> kro daba ke!! I am always with you.
                </div>

                <button class="btn-nav" onclick="closeSite()" style="background: #333; margin-top: 50px;">Close this letter</button>
            </div>
        </div>
    </section>

    <!-- JavaScript Logic -->
    <script>
        // Password Protection
        function openPasswordModal() {
            let pass = prompt("Enter the secret code for Didi:");
            if (pass === "DidiBestie") {
                goToPage(2);
            } else {
                alert("Wrong passcode! Only Anshu Didi knows it.");
            }
        }

        // Navigation
        function goToPage(pageNum) {
            document.querySelectorAll('section').forEach(sec => sec.classList.remove('active'));
            document.getElementById('page' + pageNum).classList.add('active');
            window.scrollTo(0,0);
        }

        // Heart Animation
        function openHeart() {
            document.getElementById('heart-lock').style.transform = "scale(0) rotate(360deg)";
            document.getElementById('heart-lock').style.opacity = "0";
            setTimeout(() => {
                document.getElementById('heart-lock').style.display = "none";
                document.getElementById('final-message-container').style.display = "block";
            }, 500);
        }

        // Close Site
        function closeSite() {
            alert("Love you Didi! Bye! üëã");
            window.close(); // Note: This only works if script opened the window.
            document.body.innerHTML = "<h1 style='text-align:center; margin-top:20%'>See you soon Didi! ‚ù§Ô∏è</h1>";
        }

        // Scroll Animation Observer
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.1 });

        // Observe elements
        document.querySelectorAll('.fade-in-scroll').forEach(el => observer.observe(el));
    </script>

</body>
</html>
